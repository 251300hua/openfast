% addpath('_MATLAB_scripts/');

CaseList={  '5MW_OC4Semi_WSt_WavesWN', ...
            '5MW_OC3Spar_DLL_WTurb_WavesIrr',...
            '5MW_TLP_DLL_WTurb_WavesIrr_WavesMulti', ...
            '5MW_ITIBarge_DLL_WTurb_WavesIrr'};
% RegTestMainDir='OpenFAST_reg-test/';
% HDTestDir='HD_reg-test/';
RegTestMainDir='build-DP-gcc7/reg_tests/glue-codes/openfast/';
HDTestDir='reg_tests/r-test/modules/hydrodyn/';
OutFileName='OpenFAST_DisplacementTimeseries.dat';

DispChanSet={...
   'Time',...
   'WRPSurge',...
   'WRPSway',...
   'WRPHeave',...
   'WRPRoll',...
   'WRPPitch',...
   'WRPYaw',...
   'WRPTVxi',...
   'WRPTVyi',...
   'WRPTVzi',...
   'WRPRVxi',...
   'WRPRVyi',...
   'WRPRVzi',...
   'WRPTAxi',...
   'WRPTAyi',...
   'WRPTAzi',...
   'WRPRAxi',...
   'WRPRAyi',...
   'WRPRAzi'};

%% Write the new data for HD Input

for i=1:size(CaseList,2)
   LoadFASTOut([RegTestMainDir CaseList{i} '/' CaseList{i} '.out']);
   DatSet=[];
   for j=1:size(DispChanSet,2)
      DatSet(:,j)=FASTDataSet(1).FASTData(:,GetChanNum(DispChanSet{j},1));
   end
   writematrix(DatSet,[HDTestDir 'hd_' CaseList{i} '/' OutFileName]);
end


function m = ElemM(A, L, I, J, rho, DirCos)
%ELEMM Summary of this function goes here
%   Detailed explanation goes here

t = rho*A*L;
ry = rho*I;
rz = rho*I;
po = rho*J*L;

m = zeros(12, 12);

% m(7,7)   = t/3.;
m(9,9)   = t/3.;
% m(8,8)   = 13.*t/35. + 6.*rz/(5.*L);
m(7,7)   = 13.*t/35. + 6.*rz/(5.*L); 
% m(9,9)   = 13.*t/35. + 6.*ry/(5.*L);
m(8,8)   = 13.*t/35. + 6.*ry/(5.*L);
% m(10,10) = po/3.;
m(12,12) = po/3.; 
% m(11,11) = t*L*L/105. + 2.*L*ry/15.;
m(10,10) = t*L*L/105. + 2.*L*ry/15.; 
% m(12,12) = t*L*L/105. + 2.*L*rz/15.;
m(11,11) = t*L*L/105. + 2.*L*rz/15.; 
% 
% m(3,5)   = -11.*t*L/210. - ry/10.;
m(2,4)   = -11.*t*L/210. - ry/10.;
% m(2,6)   =  11.*t*L/210. + rz/10.;
m(1,5)   =  11.*t*L/210. + rz/10.;
% m(1,7)   =  t/6.;
m(3,9)   =  t/6.;
% 
% m(6,8)   =  13.*t*L/420. - rz/10.;
m(5,7)   =  13.*t*L/420. - rz/10.;
% m(5,9)   = -13.*t*L/420. + ry/10.;
m(4,8)   = -13.*t*L/420. + ry/10.;
% m(4,10)  =  po/6.; 
m(6,12)  =  po/6.; 
% m(3,11)  =  13.*t*L/420. - ry/10.;
m(2,10)  =  13.*t*L/420. - ry/10.;
% m(2,12)  = -13.*t*L/420. + rz/10.;
m(1,11)  = -13.*t*L/420. + rz/10.;
% 
% m(9,11)  =  11.*t*L/210. + ry/10.;
m(8,10)  =  11.*t*L/210. + ry/10.;
% m(8,12)  = -11.*t*L/210. - rz/10.;
m(7,11)  = -11.*t*L/210. - rz/10.;
% 
% m(2,8)   =  9.*t/70. - 6.*rz/(5.*L);
m(1,7)   =  9.*t/70. - 6.*rz/(5.*L);
% m(3,9)   =  9.*t/70. - 6.*ry/(5.*L);
m(2,8)   =  9.*t/70. - 6.*ry/(5.*L);
% m(5,11)  = -L*L*t/140. - ry*L/30.;
m(4,10)  = -L*L*t/140. - ry*L/30.;
% m(6,12)  = -L*L*t/140. - rz*L/30.;
m(5,11)  = -L*L*t/140. - rz*L/30.;
% 	
% 	
% 	
% 	m(1,1)  = m(7,7)   ; 
m(3,3)  = m(9,9)   ; 
% 	m(2,2)  = m(8,8)   ; 
m(1,1)  = m(7,7)   ; 
% 	m(3,3)  = m(9,9)   ; 
m(2,2)  = m(8,8)   ; 
% 	m(4,4)  = m(10,10) ; 
m(6,6)  = m(12,12) ; 
% 	m(5,5)  = m(11,11) ; 
m(4,4)  = m(10,10) ; 
% 	m(6,6)  = m(12,12) ; 
m(5,5)  = m(11,11) ; 
% 
% 	m(5,3)  = m(3,5)   ; 
m(4,2)  = m(2,4)   ; 
% 	m(6,2)  = m(2,6)   ; 
m(5,1)  = m(1,5)   ; 
% 	m(7,1)  = m(1,7)   ; 
m(9,3)  = m(3,9)   ; 
% 
% 	m(8,6)  = m(6,8)   ; 
m(7,5)  = m(5,7)   ; 
% 	m(9,5)  = m(5,9)   ; 
m(8,4)  = m(4,8)   ; 
% 	m(10,4) = m(4,10)  ; 
m(12,6) = m(6,12)  ; 
% 	m(11,3) = m(3,11)  ; 
m(10,2) = m(2,10)  ; 
% 	m(12,2) = m(2,12)  ; 
m(11,1) = m(1,11)  ; 
% 
% 	m(11,9) = m(9,11)  ; 
m(10,8) = m(8,10)  ; 
% 	m(12,8) = m(8,12)  ; 
m(11,7) = m(7,11)  ; 
% 
% 	m(8,2)  = m(2,8)   ; 
m(7,1)  = m(1,7)   ; 
% 	m(9,3)  = m(3,9)   ; 
m(8,2)  = m(2,8)   ; 
% 	m(11,5) = m(5,11)  ; 
m(10,4) = m(4,10)  ; 
% 	m(12,6) = m(6,12)  ; 
m(11,5) = m(5,11)  ; 
   % tm = m - m'

DC = zeros(12, 12);

DC(1:3, 1:3) = DirCos;
DC(4:6, 4:6) = DirCos;
DC(7:9, 7:9) = DirCos;
DC(10:12, 10:12) = DirCos;

m = DC*m*DC';



end



generate_f90_types(src/TMD_Registry.txt TMD_Types.f90)
generate_f90_types(src/ServoDyn_Registry.txt ServoDyn_Types.f90)

set(SD_SOURCES
  src/BladedInterface.f90
  src/UserSubs.f90
  src/PitchCntrl_ACH.f90
  src/TMD.f90
  src/UserVSCont_KP.f90
  src/ServoDyn.f90

  # Autogenerated files
  TMD_Types.f90
  ServoDyn_Types.f90
  )

add_library(servodynlib ${SD_SOURCES})
target_link_libraries(servodynlib nwtclibs)

add_executable(servodyn
  src/ServoDyn_Driver.f90)
target_link_libraries(servodyn servodynlib nwtclibs)

add_executable(TMD
  src/TMD_Driver.f90)
target_link_libraries(TMD servodynlib nwtclibs)
